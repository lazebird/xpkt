**本仓库作为xpkt软件的发布和维护仓库使用**
# 目录
[TOC]

# 背景
- 数通领域开发过程中，经常需要对报文进行调试，会使用到发包工具软件。
- 业界现有anysend/xcap(windows平台)，和packEth(linux平台)，等前辈软件，都有用过，受益匪浅。
- 但是上述软件在使用中存在以下小问题
  - 不能跨平台使用
  - 协议支持不够强大，灵活/扩展性不够
  - 性能一般，大致在1kpps左右
  - 软件更新较慢，遇到小问题也不好解决
- 初步看现有软件都是基于c/c++类低级语言开发(packEth C 大概10kloc)，扩展维护相对困难，因此考虑基于新技术实现一个新的发包工具，也为数通同学们提供多一个选择。在此非常感谢前辈软件们为大家提供的遍历和给本软件带来的启发。

# xpkt基本介绍
- xpkt是一个专业的免费的发包工具软件。具备如下特点：
- **跨平台的发包测试工具**
- 发包：
    - 丰富的发包策略：速率，总数等
    - 支持字段变化：包括mac自增/随机，ip自增/随机，及通用字段类自增/随机
    - 强大的性能，需要基于硬件条件，后期可以做性能测试和对比
    - 多条流并发
- 建包：
    - 直观且强大的报文构造方式
    - 结构化快速编辑+Hex专业编辑并存
    - 兼容主流格式/软件的数据
    - **支持扩展协议解析能力**

# xpkt使用说明
## xpkt流构建
![flow](./assets/flow.png)
- 点击导航区的`Flow`进入`Flow视图`，如上图，点击右半区的`Configuration`旁边的`+`，添加全新的流，或者基于当前的流进行修改，以下是基本信息说明：
  - Name：流名称，用于唯一标识一条流
  - Mut Policies：流变化策略，用于在发包期间动态调整报文字段的策略
    - Name：字段名称
    - Position：字段位置，仅当名称为custom自定义时出现，手动配置变化的范围
    - Method：变化方法，当前仅支持减少/增加/随机
    - Step: 变化步幅，仅减少/增加时可配
  - Tx Policy: 发包策略
    - Count: 总的发包数，可选，默认不限制
    - Rate(pps)：发包速率，可选，默认不限制
    - Delay(ms)：每包延迟，可选，默认不限制
- 流基本信息配置完成后，还需要配置具体的报文内容，可以点击右下角`Configure Packet`进入`Packet视图`，具体见下一节

## xpkt报文构建
![packet](./assets/pkt.png)
- 点击导航区的`Packet`可以进入`Packet视图`，如上图。报文编辑具备两种模式
  - 结构编辑模式：结构编辑方式指视图左半区的结构化编辑，可以点击底部`+`按钮添加新的字段，并对字段进行修改来实现快速构建报文
  - Hex编辑模式：通过点击视图右半区`Hex`旁边的`笔形图标`进入，可以直接调整报文的Hex数据，调整完后点击同位置的确认按钮完成编辑

## xpkt流保存
- 当流/报文编辑全部完成后，请不要忘记回到`Flow视图`，点击`Save`按钮将流保存下来，保存的流会存到配置文件中，即便软件关闭也不会丢失

## xpkt流发送
- 回到`Flow视图`，在左半区中表格中可以看到所有保存的流，对流进行勾选，同时指定发送的网卡，点击`播放图标`按钮，即可启动发包；点击`停止图标`可以结束发包
- 注意：软件发包需要具备管理员权限

# 常见问题
